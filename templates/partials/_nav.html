<!-- NAVBAR -->
<header class="main-nav py-2">
  <div class="container">
    <div class="d-flex align-items-center gap-3">

      <!-- LEFT: Logo -->
      <div class="d-flex align-items-center me-2">
        <a href="{{ url_for('user/user_index') }}" class="brand-logo" aria-label="Zentro homepage">
          <div class="logo-icon" aria-hidden="true">Z</div>
          <div>
            <div style="font-size:14px;opacity:.9">ZENTRO</div>
            <small style="font-size:11px;color:rgba(255,255,255,.8);">
              Everything at Your Center.
            </small>
          </div>
        </a>
      </div>

      <!-- CENTER: Search -->
      <div class="flex-grow-1 ms-2 me-2">
        <div class="search-box d-flex align-items-center" role="search" aria-label="Site search">
          <select id="search-category"
                  class="form-select form-select-sm w-auto"
                  aria-label="Search category"
                  style="max-width:170px">
            <option value="All">All</option>
            <option>Electronics</option>
            <option>Fashion</option>
            <option>Beauty</option>
            <option>Sports</option>
            <option>Grocery</option>
            <option>Home</option>
          </select>

          <input id="search-input"
                 type="search"
                 class="form-control form-control-sm"
                 placeholder="Search products, brands and more"
                 aria-label="Search products">

          <button class="btn btn-search btn-sm"
                  id="search-btn"
                  aria-label="Start search">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>

      <!-- RIGHT: Controls -->
      <div class="d-flex align-items-center gap-2">

        <!-- City selector -->
        <div class="dropdown me-1">
          <button class="btn btn-sm btn-light"
                  id="cityBtn"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  aria-label="Select city">
            <i class="fa fa-location-dot"></i>
            <span id="cityText">
              Delivering to <strong>Delhi</strong>
            </span>
          </button>

          <ul class="dropdown-menu" aria-labelledby="cityBtn">
            <li><button class="dropdown-item city-select">Delhi</button></li>
            <li><button class="dropdown-item city-select">Mumbai</button></li>
            <li><button class="dropdown-item city-select">Bengaluru</button></li>
            <li><button class="dropdown-item city-select">Chennai</button></li>
            <li><button class="dropdown-item city-select">Kolkata</button></li>
          </ul>
        </div>

        <!-- Wishlist -->
        <button class="btn btn-outline-light btn-sm position-relative"
                id="wishlistBtn"
                aria-label="Wishlist">
          <i class="fa-regular fa-heart"></i>
          <span id="wishlistBadge"
                class="badge-count"
                style="display:none">0</span>
        </button>

        <!-- Cart -->
        <button class="btn btn-outline-light btn-sm position-relative"
                id="cartBtn"
                aria-label="Cart"
                data-bs-toggle="offcanvas"
                data-bs-target="#miniCartOffcanvas"
                aria-controls="miniCartOffcanvas">
          <i class="fa fa-shopping-cart"></i>
          <span id="cartBadge"
                class="badge-count"
                style="display:none">0</span>
        </button>

        <!-- User Auth -->
        {% if current_user.is_authenticated %}
          <a class="btn btn-sm btn-light"
             href="{{ url_for('account.profile') }}"
             aria-label="Account">
            <i class="fa fa-user"></i>
            <span class="ms-1">
              Hi, {{ current_user.name or current_user.email }}
            </span>
          </a>
        {% else %}
          <a class="btn btn-sm btn-warning text-nowrap"
             id="authBtn"
             href="{{ url_for('login') }}"
             aria-label="Signup or Login">
            <i class="fa fa-user"></i>
            <span style="font-size:11px">Signup / Login</span>
          </a>
        {% endif %}

        <!-- Admin -->
        {% if current_user.is_authenticated and current_user.is_admin %}
          <a class="btn btn-sm btn-light"
             href="{{ url_for('admin.dashboard') }}"
             aria-label="Admin dashboard">
            Admin
          </a>
        {% else %}
          <a class="btn btn-sm btn-light"
             href="{{ url_for('login') }}"
             aria-label="Admin login">
            Admin Login
          </a>
        {% endif %}

      </div>
    </div>
  </div>
</header>
